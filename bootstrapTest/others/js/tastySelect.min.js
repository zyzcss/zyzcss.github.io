!function(e,t){"use strict";var n,o={selector:"select",mobileFix:!0,mask:"%",maskJoin:", ",defaultText:"Select item...",classes:{outer:"style-select",title:"style-select-title",options:"style-select-options",label:"style-select-label",optgroup:"style-select-optgroup",list:"style-select-list",item:"style-select-option",open:"st_open",selected:"st_selected",mobile:"is_mobile"},attributes:{index:"data-index",value:"data-value",selectReady:"data-tastyselect"}},l=(n={Android:function(){return!!navigator.userAgent.match(/Android/i)&&"android"},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)&&"blackberry"},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)&&"ios"},Opera:function(){return!!navigator.userAgent.match(/Opera Mini/i)&&"operamini"},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)&&"ie"},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}},n).any();function r(e,t){var n=document.createElement(e);return t&&i(n,t),n}function i(e,t){e.classList.add(t)}function c(e,t){e.classList.remove(t)}function s(e,t){Array.prototype.slice.call(e).forEach(t)}e.tastySelect=function(e){var t;s(document.querySelectorAll(e&&e.selector||o.selector),function(t){!function(e,t){if(null===e.getAttribute("data-tastyselect")){var n,s,a;n=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},o,t),s=n.classes,a=n.attributes;var u,d,p,f,h,m,v,y,g,b,S,A,E,k,q,x,L,M,C,B=(u=e,d=r("div",s.outer),p=r("div",s.title),f=r("div",s.options),h=r("li",s.label),m=r("ul",s.optgroup),v=r("ul",s.list),y=r("li",s.item),g=u.options,l&&i(d,s.mobile),d.appendChild(p),d.appendChild(f),function(){for(var e,t=null,n=null,o=v.cloneNode(!0),l=0,r=g.length;l<r;l++){var i=y.cloneNode(!0),c=g[l];n=c.parentNode.getAttribute("label"),t!=n&&(o&&f.appendChild(o),null==n?o=v.cloneNode(!0):(o=m.cloneNode(!0),(e=h.cloneNode(!0)).innerHTML=n,o.appendChild(e))),t=n,i.setAttribute(a.value,c.value),i.setAttribute(a.index,c.index),i.innerHTML=c.text,o.appendChild(i)}f.appendChild(o)}(),d);n.mobileFix&&(b=e,(S=r("optgroup")).disabled=!0,S.hidden=!0,b.insertBefore(S,b.firstChild)),L=B,M=(x=e).cloneNode(!0),C=x.parentNode,L.appendChild(M),C.insertBefore(L,x),C.removeChild(x),E=(A=B).querySelector(n.selector),k=A.querySelector("."+s.title),q=A.querySelector("."+s.options),E.setAttribute(a.selectReady,""),k.addEventListener("click",function(e){O(A)},!1),E.addEventListener("change",function(){N(A)},!1),q.addEventListener("click",function(e){var t=e.target.closest("."+s.item),o=e.target.closest("."+s.outer);t&&(o.querySelector(n.selector).multiple&&e.ctrlKey?w(t,!0):(w(t),O(t.closest("."+s.outer))))},!1),N(B)}function N(e){for(var t,o,l=e.querySelector(n.selector),r=e.querySelector("."+s.options),a=r.querySelectorAll("."+s.item),u=e.querySelector("."+s.title),d=l.options,p=[],f=n.defaultText,h=0,m=a.length;h<m;h++)o=d[h],t=a[h],o.selected?(i(t,s.selected),p.push(o.text)):c(t,s.selected);p.length&&(f=n.mask.replace("$",p.length).replace("%",p.join(n.maskJoin))),u.innerHTML=f}function w(e,t){var o=e.getAttribute(a.index),l=e.closest("."+s.outer),r=l.querySelector(n.selector),i=r.options,c=i[o];if(!t)for(var u=0,d=i.length;u<d;u++)i[u].selected=!1;if(c.selected=!c.selected,"createEvent"in document){var p=document.createEvent("HTMLEvents");p.initEvent("change",!1,!0),r.dispatchEvent(p)}else r.fireEvent("onchange")}function O(e){e.classList.toggle(s.open)}}(t,e)}),t=e&&e.classes&&e.classes.open||o.classes.open,document.body.addEventListener("click",function(){var e=event.target.closest("."+t);s(document.querySelectorAll("."+t),function(n){e!==n&&c(n,t)})},!1)}}(window),function(e){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;e.matches=e.matchesSelector=t||function(e){var t=document.querySelectorAll(e),n=this;return Array.prototype.some.call(t,function(e){return e===n})}}(Element.prototype),function(e){e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype);